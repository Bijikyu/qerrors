'use strict'; const throwIfNotFound = (entity, entityName) => { if (!entity) throw new Error(`${entityName} not found`); return entity; }; const throwIfNotFoundObj = input => { try { const entity = throwIfNotFound(input.entity, input.entityName); return { entity, found: true }; } catch (error) { return { entity: null, found: false }; } }; const throwIfNotFoundMany = entities => entities.map(({ entity, entityName }) => throwIfNotFound(entity, entityName)); const throwIfNotFoundWithMessage = (entity, errorMessage) => { if (!entity) throw new Error(errorMessage); return entity; }; const entityExists = entity => entity !== null && entity !== undefined; const assertEntityExists = (entity, entityName, errorType = 'NOT_FOUND') => { if (!entity) { const error = new Error(`${entityName} not found`); error.type = errorType; error.entityName = entityName; throw error; } return entity; }; module.exports = { throwIfNotFound, throwIfNotFoundObj, throwIfNotFoundMany, throwIfNotFoundWithMessage, entityExists, assertEntityExists };